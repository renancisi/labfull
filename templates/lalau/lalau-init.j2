#!/bin/bash
#
### BEGIN INIT INFO
# Provides:             lalau node init
# Required-Start:       $network
# Required-Stop:        $network
# Default-Start:        2 3 4 5
# Default-Stop:         0 1 6
# Short-Description:    lalau cluster init
### END INIT INFO
 
start() {
  echo 'cluster tart!' >> /var/log/lalau.log
  node "{{ nodejs_app_path }}/{{ app_current_dir }}"
}
  
stop() {
  echo 'cluster stop!' >> /var/log/lalau.log
  pkill -9 node
}
  
restart() {
  stop
  start
}                                                                                                                                                                          
                                                                                                                                                                            
case "$1" in
  start)
    start
    ;;
  stop)
    stop
    ;;
  restart)
    restart
    ;;
  *)
    echo $"Usage: $0 {start|stop|restart}"
    exit 1
esac
  
exit $?
